const it=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}};it();class g{constructor(t=void 0){this.reinit(this.timeTarget)}reinit(t=void 0){this.timeTarget=t,this.isRunning=!1,this.startTime=0,this.cumulatedTime=0,this.totalTime=0,t==null?this.countUp=!0:this.countUp=!1}_getTimeElasped(){return this.isRunning&&(this.totalTime=Date.now()-this.startTime+this.cumulatedTime),this.totalTime}_getTimeRemaining(){if(this.countUp)return;const t=this.timeTarget-this._getTimeElasped();return t<0?0:t}get_time_elapsed(){return this._getTimeElasped()}get_time_left(){return this._getTimeRemaining()}is_running(){return this.isRunning}time_up(){return this._getTimeElasped()>this.timeTarget}start(){this.isRunning||(this.startTime=Date.now()),this.isRunning=!0}stop(){this.isRunning&&(this.cumulatedTime+=Date.now()-this.startTime),this.isRunning=!1}get_ms_string(){return this.countUp?g.ms2msStr(this._getTimeElasped()):g.ms2msStr(this._getTimeRemaining())}get_s_string(){return this.countUp?g.ms2secStr(this._getTimeElasped()):g.ms2secStr(this._getTimeRemaining())}get_ms_s_string(){return this.countUp?g.ms2mssecStr(this._getTimeElasped()):g.ms2mssecStr(this._getTimeRemaining())}static ms2msStr(t){const r=String(t%1e3).padStart(3,"0").slice(0,2),s=String(Math.floor(t/1e3)%60).padStart(2,"0");return`${String(Math.floor(t/60/1e3)).padStart(2,"0")}:${s}.${r}`}static ms2secStr(t){return String(Math.floor(t/1e3)).padStart(2,"0")}static ms2mssecStr(t){const r=String(Math.floor(t/1e3)),s=String(t%1e3).padStart(3,"0").slice(0,1);return`${r}.${s}`}}function Ne(e){return e=e+"-",`
    <div class="flex flex-row justify-between m-auto w-[84%]">
        <table class="w-[55%]">
            <tr>
            <td>
                <button id="${e+"seeker-restart-btn"}" class="restart-vio-button inline-block float-left" oncontextmenu="event.preventDefault();">RESTART</button>
                <p id="${e+"seeker-restart-count"}" class="restart-vio-text inline-block float-right">0</p></td>
            </tr>
            <tr>
            <td>                      
                <button id="${e+"seeker-violation-btn"}" class="restart-vio-button inline-block float-left" oncontextmenu="event.preventDefault();">VIOLATION</button>
                <p id="${e+"seeker-violation-count"}" class="restart-vio-text inline-block float-right">0</p>
            </td>
            </tr>
        </table>
        <button id="${e+"seeker-complete-btn"}" class="w-[35%] end-button pointer-events-none">BUILT</button>
        </div>
        
        <div class="flex flex-row my-3">
    
        <table class="text-center items-center w-[100%]">
            <!-- lagori sizes: 20, 27.5, 35, 42.5, 50 -->
            <tr>
            <td class="criteria-text px-2">Balls</td>
            <td class="criteria-text">Lagori Tower</td>
            <td class="criteria-text">Break</td>
            <td id="${e+"place-btn"}" class="criteria-text">Pick</td>
            <td><button class="criteria-text underline">Place</button></td>
            </tr><tr>
            <td rowspan="5">
                <div class="flex flex-col items-center">
                <button id="${e+"ball-1-btn"}" class="ball-unclicked">1</button>
                <button id="${e+"ball-2-btn"}" class="ball-unclicked">2</button>
                <button id="${e+"ball-3-btn"}" class="ball-unclicked">3</button>
                </div>
            </td>
            <td class="flex justify-center"><svg width="100" height="30">
                <rect x="30" y="1" width="40" height="28" stroke="blue" fill="transparent" stroke-width="1"/>
                <text x="50" y="22" style="font: 20px sans-serif; white-space: pre-line; text-anchor: middle;">A</text>
            </svg></td>
            <td><button id="${e+"A-break-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"A-pick-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"A-place-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            </tr><tr>
            <td class="flex justify-center"><svg width="100" height="30">
                <rect x=22.5 y="1" width="55" height="28" stroke="red" fill="transparent" stroke-width="1"/>
                <text x="50" y="22" style="font: 20px sans-serif; white-space: pre-line; text-anchor: middle;">B</text>
            </svg></td>
            <td><button id="${e+"B-break-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"B-pick-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"B-place-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            </tr><tr>
            <td class="flex justify-center"><svg width="100" height="30">
                <rect x=15 y="1" width="70" height="28" stroke="blue" fill="transparent" stroke-width="1"/>
                <text x="50" y="22" style="font: 20px sans-serif; white-space: pre-line; text-anchor: middle;">C</text>
            </svg></td>
            <td><button id="${e+"C-break-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"C-pick-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"C-place-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            </tr><tr>
            <td class="flex justify-center">
                <svg width="100" height="30"><rect x=7.5 y="1" width="85" height="28" stroke="red" fill="transparent" stroke-width="1"/>
                <text x="50" y="22" style="font: 20px sans-serif; white-space: pre-line; text-anchor: middle;">D</text>
            </svg></td>
            <td><button id="${e+"D-break-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"D-pick-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"D-place-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            </tr><tr>
            <td class="flex justify-center">
                <svg width="100" height="30"><rect x=0 y="1" width="100" height="28" stroke="blue" fill="transparent" stroke-width="1"/>
                <text x="50" y="22" style="font: 20px sans-serif; white-space: pre-line; text-anchor: middle;">E</text>
            </svg></td>
            <td><button id="${e+"E-break-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"E-pick-btn"}" class="ok" oncontextmenu="event.preventDefault();">OK</button></td>
            <td><button id="${e+"E-place-btn"}" class="ok"oncontextmenu="event.preventDefault();">OK</button></td>
            </tr>
        </table>
        </div>
    `}function De(e){return e=e+"-",`
    <div class="flex flex-row justify-between w-[84%]">
    <table class="w-[55%]">
        <tr>
        <td>
            <button id="${e+"hitter-restart-btn"}" class="restart-vio-button inline-block float-left" oncontextmenu="event.preventDefault();">RESTART</button>
            <p id="${e+"hitter-restart-count"}" class="restart-vio-text inline-block float-right">0</p></td>
        </tr>
        <tr>
        <td>                      
            <button id="${e+"hitter-violation-btn"}" class="restart-vio-button inline-block float-left" oncontextmenu="event.preventDefault();">VIOLATION</button>
            <p id="${e+"hitter-violation-count"}" class="restart-vio-text inline-block float-right">0</p>
        </td>
        </tr>
    </table>
    <button id="${e+"hitter-complete-btn"}" class="end-button">HIT</button>
    </div>

    <div class="my-3">

    <table class="text-center items-center w-[100%] >lg:table-fixed">
        <tr>
        <td rowspan="3" class="w-[19%]"> 
            <p class="criteria-text">Balls</p>
            <div class="ball m-auto my-3"></div>
        </td>
        <td class="w-[27%]"><span class="criteria-text block">Collected</span>
            <span id="${e+"collected-counter"}" class="text-size-[40px] text-center font-bold block">0</span></td>
        <td class="w-[27%]"><span class="criteria-text block">Passed</span>
            <span id="${e+"passed-counter"}" class="text-size-[40px] text-center font-bold block">0</span></td>
        <td class="w-[27%]"><span class="criteria-text block">Thrown</span>
            <span id="${e+"thrown-counter"}" class="text-size-[40px] text-center font-bold block">0</span></td>
        </tr>
        <tr>
        <td><button id="${e+"collected-plus"}" class="green-btn">+3</button></td>
        <td><button id="${e+"passed-plus"}" class="green-btn">+1</button></td>
        <td><button id="${e+"thrown-plus"}" class="green-btn">+1</button></td>
        </tr>
        <tr>
        <td><button id="${e+"collected-minus"}" class="red-btn">-3</button></td>
        <td><button id="${e+"passed-minus"}" class="red-btn">-1</button></td>
        <td><button id="${e+"thrown-minus"}" class="red-btn">-1</button></td>
        </tr>
    </table>
    </div>
    `}class we{constructor(){this.hitter_counters={restarts:0,restart_times:[],violations:0,violation_type:[],hit:!1,balls_collected:0,balls_collected_time:[NaN,NaN],balls_passed:0,balls_thrown:0,time_remaining:0},this.seeker_counters={restarts:0,restart_times:[],violations:0,violation_type:[],built:!1,balls_used:0,lagori_broken:[0,0,0,0,0],lagori_picked:[!1,!1,!1,!1,!1],lagori_placed:[!1,!1,!1,!1,!1],break_time:0,place_time:NaN,time_remaining:0}}seekerScore(){const t=5*this.seeker_counters.lagori_broken.filter(n=>n>0).length;for(var r=0,s=4;s>=0;s--)if(r==0&&this.seeker_counters.lagori_placed[s])r+=10;else if(this.seeker_counters.lagori_placed[s])r+=10;else if(this.seeker_counters.lagori_picked[s]!="out")break;return t+r}seekerCompiled(){return this.seeker_counters}hitterCompiled(){return this.hitter_counters}}class ot{constructor(t,r,s,n){this.state=t,this.time=r,this.action=s,this.score=n}toHTML(){return`<div class="record"><span>${this.state} ${this.time}</span>
        <span>${this.action}</span><span>${this.score}</span></div>`}toString(){var t=document.createElement("span");return t.innerHTML=this.action,`[${this.state} ${this.time}] ${t.textContext||t.innerText} (score: ${this.score})`}}function at(e,t="result.json"){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.click()}function lt(e){const t=-e.getTimezoneOffset(),r=t>=0?"+":"-",s=function(n){const i=Math.floor(Math.abs(n));return(i<10?"0":"")+i};return e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate())+"T"+s(e.getHours())+":"+s(e.getMinutes())+":"+s(e.getSeconds())+r+s(t/60)+":"+s(t%60)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var be=function(e,t){return be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},be(e,t)};function oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");be(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function I(e,t,r){if(r||arguments.length===2)for(var s=0,n=t.length,i;s<n;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function Se(e){return Array.isArray(e)?e:[e]}function ct(e,t){t===void 0&&(t=2);var r=Array(t).fill(" ").join("");return e.split(`
`).map(function(s){return r+s}).join(`
`)}function ue(e,t,r,s,n){return t===void 0&&(t="{"),r===void 0&&(r="}"),s===void 0&&(s=2),n===void 0&&(n=!1),n?"".concat(t).concat(e).concat(r):"".concat(t,`
`).concat(ct(e,s),`
`).concat(r)}function Le(e){return e.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function ut(e,t,r,s){r===void 0&&(r=0);var n=e.substring(r,s),i=n.search(t);return i===-1?-1:r+i}function O(e,t,r){return r===void 0&&(r=!0),r?I(I([],e!=null?e:[],!0),t!=null?t:[],!0):I(I([],t!=null?t:[],!0),e!=null?e:[],!0)}function Q(e){return Array.isArray(e)?e.map(function(t){return Q(t)}):e instanceof Date?new Date(e.getTime()):e&&typeof e=="object"?Object.getOwnPropertyNames(e).reduce(function(t,r){var s=Object.getOwnPropertyDescriptor(e,r);return s&&(Object.defineProperty(t,r,s),e&&typeof e=="object"&&(t[r]=Q(e[r]))),t},Object.create(Object.getPrototypeOf(e))):e}function dt(e){return["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embd","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].includes(e)}function de(e,t){t===void 0&&(t=0);for(var r=t,s=-1,n=!1,i=!1,o=!1,a=!1;r<e.length;){switch(e.charAt(r)){case"\\":a=!a;break;case"'":!i&&!o&&!a&&(n=!n),a=!1;break;case'"':!n&&!o&&!a&&(i=!i),a=!1;break;case"(":!o&&!n&&!i&&!a&&(o=!0),a=!1;break;case")":o&&!a&&(o=!1),a=!1;break;case";":!a&&!n&&!i&&!o&&(s=r),a=!1;break;default:a=!1;break}if(s!==-1)break;r++}return s}var P=function(){function e(t,r,s,n){n===void 0&&(n=!1),this.meta={type:"utilities",group:"plugin",order:0,offset:0,corePlugin:!1},this.name=t,this.value=r,this.comment=s,this.important=n}return e._singleParse=function(t){if(t=t.trim(),!!t){if(t.charAt(0)==="@")return ft.parse(t);var r=t.search(":"),s=de(t);if(r!==-1){var n=!1,i=t.substring(r+1,s===-1?void 0:s).trim();return/!important;?$/.test(i)&&(n=!0,i=i.replace(/!important/,"").trimRight()),new e(t.substring(0,r).trim(),i,void 0,n)}}},e.parse=function(t){/;\s*$/.test(t)||(t+=";");for(var r=[],s=0,n=de(t,s);n!==-1;){var i=this._singleParse(t.substring(ut(t,/\S/,s),n+1));i&&r.push(i),s=n+1,n=de(t,s)}var o=r.length;if(o>1)return r;if(o===1)return r[0]},e.prototype.clone=function(){return Q(this)},e.prototype.toStyle=function(t){var r=new ae(t,this,this.important);return r.meta=this.meta,r},e.prototype.build=function(t){var r=this;t===void 0&&(t=!1);var s=function(n,i){if(t)return"".concat(n,":").concat(i).concat(r.important?"!important":"",";");var o="".concat(n,": ").concat(i).concat(r.important?" !important":"",";");return r.comment?o+" /* ".concat(r.comment," */"):o};return this.value?typeof this.name=="string"?s(this.name,this.value):this.name.map(function(n){return s(n,r.value)}).join(t?"":`
`):""},e.prototype.updateMeta=function(t,r,s,n,i){return n===void 0&&(n=0),i===void 0&&(i=!1),this.meta={type:t,group:r,order:s,offset:n,corePlugin:i},this},e}(),ft=function(e){oe(t,e);function t(r,s,n){n===void 0&&(n=!1);var i=e.call(this,r,s,void 0,n)||this;return i.name=r,i}return t.parse=function(r){var s,n=r.match(/@[^\s;{}]+/);if(n){var i=n[0].substring(1),o=!1,a=n.index!==void 0?(s=r.substring(n.index+i.length+1).match(/(?:(['"]).*?\1|[^;])*/))===null||s===void 0?void 0:s[0].trim():void 0;return a&&/!important;?$/.test(a)&&(o=!0,a=a.replace(/!important/,"").trimRight()),new t(i,a===""?void 0:a,o)}},t.prototype.build=function(){return this.value?"@".concat(this.name," ").concat(this.value).concat(this.important?" !important":"",";"):"@".concat(this.name).concat(this.important?" !important":"",";")},t}(P),ae=function(){function e(t,r,s){s===void 0&&(s=!1),this.meta={type:"components",group:"plugin",order:0,offset:0,corePlugin:!1},this.selector=t,this.important=s,this.property=Se(r||[])}return Object.defineProperty(e.prototype,"rule",{get:function(){var t=this,r,s,n,i=((r=this.selector)!==null&&r!==void 0?r:"").trim().split(/\s*,\s*/g);return this._parentSelectors&&(i=i.map(function(o){var a;return"".concat((a=t._parentSelectors)===null||a===void 0?void 0:a.join(" ")," ").concat(o)})),((s=this._wrapSelectors)!==null&&s!==void 0?s:[]).forEach(function(o){return i=i.map(function(a){return o(a)})}),this._pseudoClasses&&(i=i.map(function(o){var a;return o+":".concat((a=t._pseudoClasses)===null||a===void 0?void 0:a.join(":"))})),this._pseudoElements&&(i=i.map(function(o){var a;return o+"::".concat((a=t._pseudoElements)===null||a===void 0?void 0:a.join("::"))})),this._brotherSelectors&&(i=i.map(function(o){var a;return o+".".concat((a=t._brotherSelectors)===null||a===void 0?void 0:a.join("."))})),this._childSelectors&&(i=i.map(function(o){var a;return o+" ".concat((a=t._childSelectors)===null||a===void 0?void 0:a.join(" "))})),((n=this._wrapRules)!==null&&n!==void 0?n:[]).forEach(function(o){return i=i.map(function(a){return o(a)})}),i.join(", ")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pseudoClasses",{get:function(){return this._pseudoClasses},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pseudoElements",{get:function(){return this._pseudoElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentSelectors",{get:function(){return this._parentSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childSelectors",{get:function(){return this._childSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brotherSelectors",{get:function(){return this._brotherSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapProperties",{get:function(){return this._wrapProperties},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapSelectors",{get:function(){return this._wrapSelectors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapRules",{get:function(){return this._wrapRules},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"simple",{get:function(){return!(this.atRules||this._pseudoClasses||this._pseudoElements||this._parentSelectors||this._childSelectors||this._brotherSelectors||this._wrapProperties||this._wrapSelectors||this._wrapRules)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAtrule",{get:function(){return!(this.atRules===void 0||this.atRules.length===0)},enumerable:!1,configurable:!0}),e.generate=function(t,r,s){s||(s=t!=null&&t.startsWith("@")?new e().atRule(t):new e(t));for(var n=[],i=function(v,W){var E=W;if(Array.isArray(E)&&E.every(function(T){return typeof T=="object"})&&(E=Object.assign.apply(Object,I([{}],E,!1))),typeof E=="string")s.add(new P(Le(v),E));else if(Array.isArray(E))E.map(function(T){return s==null?void 0:s.add(new P(Le(v),T))});else{var $=Q(s);$.property=[];var B=void 0;if(v.startsWith("@"))B=$.atRule(v,!1);else if($.selector===void 0)$.selector=v,B=$;else if(/^[a-z]+$/.test(v)&&!dt(v))$.wrapProperty(function(T){return"".concat(v,"-").concat(T)}),B=$;else{var X=function(T,M){return(/&/.test(M)?M:"& ".concat(M)).replace("&",T)};$.wrapSelector(function(T){return T.trim().split(/\s*,\s*/g).map(function(M){return v.split(/\s*,\s*/g).map(function(ee){return X(M,ee)}).join(", ")}).join(", ")}),B=$}n=n.concat(e.generate(v.startsWith("@")?void 0:v,E,B))}},o=0,a=Object.entries(r!=null?r:{});o<a.length;o++){var u=a[o],p=u[0],w=u[1];i(p,w)}return s.property.length>0&&n.unshift(s),n},e.prototype.atRule=function(t,r){return r===void 0&&(r=!0),t?(this.atRules?r?this.atRules.push(t):this.atRules.unshift(t):this.atRules=[t],this):this},e.prototype.pseudoClass=function(t){return this._pseudoClasses?this._pseudoClasses.push(t):this._pseudoClasses=[t],this},e.prototype.pseudoElement=function(t){return this._pseudoElements?this._pseudoElements.push(t):this._pseudoElements=[t],this},e.prototype.brother=function(t){return this._brotherSelectors?this._brotherSelectors.push(t):this._brotherSelectors=[t],this},e.prototype.parent=function(t){return this._parentSelectors?this._parentSelectors.push(t):this._parentSelectors=[t],this},e.prototype.child=function(t){return this._childSelectors?this._childSelectors.push(t):this._childSelectors=[t],this},e.prototype.wrapProperty=function(t){return this._wrapProperties?this._wrapProperties.push(t):this._wrapProperties=[t],this},e.prototype.wrapSelector=function(t){return this._wrapSelectors?this._wrapSelectors.push(t):this._wrapSelectors=[t],this},e.prototype.wrapRule=function(t){return this._wrapRules?this._wrapRules.push(t):this._wrapRules=[t],this},e.prototype.add=function(t){return t=Se(t),this.important&&t.forEach(function(r){return r.important=!0}),this.property=I(I([],this.property,!0),t,!0),this},e.prototype.extend=function(t,r,s){if(r===void 0&&(r=!1),s===void 0&&(s=!0),!t)return this;if(t.wrapProperties){var n=[];t.property.forEach(function(i){var o,a=new P(i.name,i.value,i.comment);(o=t.wrapProperties)===null||o===void 0||o.forEach(function(u){a.name=Array.isArray(a.name)?a.name.map(function(p){return u(p)}):u(a.name)}),t.important&&(a.important=!0),n.push(a)}),this.property=O(this.property,n,s)}else t.important&&t.property.forEach(function(i){return i.important=!0}),this.property=O(this.property,t.property,s);return r?this:(t.selector&&(this.selector=t.selector),this.meta=t.meta,t.atRules&&(this.atRules=O(t.atRules,this.atRules,s)),t._brotherSelectors&&(this._brotherSelectors=O(this._brotherSelectors,t._brotherSelectors,s)),t._childSelectors&&(this._childSelectors=O(this._childSelectors,t._childSelectors,s)),t._parentSelectors&&(this._parentSelectors=O(this._parentSelectors,t._parentSelectors,s)),t._pseudoClasses&&(this._pseudoClasses=O(this._pseudoClasses,t._pseudoClasses,s)),t._pseudoElements&&(this._pseudoElements=O(this._pseudoElements,t._pseudoElements,s)),t._wrapRules&&(this._wrapRules=O(this._wrapRules,t._wrapRules,s)),t._wrapSelectors&&(this._wrapSelectors=O(this._wrapSelectors,t._wrapSelectors,s)),this)},e.prototype.clean=function(){var t=[],r=[];return this.property.forEach(function(s){var n=s.build();r.includes(n)||(r.push(n),t.push(s))}),this.property=t,this},e.prototype.flat=function(){var t=[];return this.property.forEach(function(r){Array.isArray(r.name)?r.name.forEach(function(s){t.push(new P(s,r.value,r.comment))}):t.push(r)}),this.property=t,this},e.prototype.clone=function(t,r){var s=Q(this);return t&&(s.selector=t),r&&(s.property=Array.isArray(r)?r:[r]),s},e.prototype.sort=function(){return this.property=this.property.sort(function(t,r){return"".concat(t.name).substring(0,2)>"".concat(r.name).substring(0,2)?1:-1}),this},e.prototype.build=function(t,r){var s=this;t===void 0&&(t=!1),r===void 0&&(r=!0);var n=this.property;r||(n=n.filter(function(p){return p.value&&/-(webkit|ms|moz|o)-/.test(p.value)?!1:Array.isArray(p.name)?(p.name=p.name.filter(function(w){return!/^-(webkit|ms|moz|o)-/.test(w)}),!0):!/^-(webkit|ms|moz|o)-/.test(p.name)}));var i=n.map(function(p){if(s._wrapProperties){var w=p.name;return s._wrapProperties.forEach(function(v){return w=Array.isArray(w)?w.map(function(W){return v(W)}):v(w)}),new P(w,p.value,p.comment,s.important?!0:p.important).build(t)}return s.important?new P(p.name,p.value,p.comment,!0).build(t):p.build(t)}).join(t?"":`
`);if(!this.selector&&!this.atRules)return i.replace(/;}/g,"}");if(this.selector&&(i=(t?this.rule.replace(/,\s/g,","):this.rule+" ")+ue(i,void 0,void 0,void 0,i!==""?t:!0)),this.atRules)for(var o=0,a=this.atRules;o<a.length;o++){var u=a[o];i=t?"".concat(u.replace(/\s/g,"")).concat(ue(i,void 0,void 0,void 0,t)):"".concat(u," ").concat(ue(i,void 0,void 0,void 0,i!==""?t:!0))}return t?i.replace(/;}/g,"}"):i},e.prototype.updateMeta=function(t,r,s,n,i,o){return n===void 0&&(n=0),i===void 0&&(i=!1),o===void 0&&(o=!1),this.meta={type:t,group:r,order:s,offset:n,corePlugin:i,respectSelector:o},this},e}();(function(e){oe(t,e);function t(r,s,n){return e.call(this,r,s,n)||this}return t})(ae);(function(e){oe(t,e);function t(r,s,n){return e.call(this,r,s,n)||this}return t.generate=function(r,s,n,i){i===void 0&&(i=!0);for(var o=[],a=[],u=0,p=Object.entries(s);u<p.length;u++){for(var w=p[u],v=w[0],W=w[1],E=new t(v).atRule("@keyframes ".concat(r)),$=new t(v).atRule("@-webkit-keyframes ".concat(r)),B=0,X=Object.entries(W);B<X.length;B++){var T=X[B],M=T[0],ee=T[1],te=M;M==="transform"?te=i?["-webkit-transform","transform"]:"transform":["animationTimingFunction","animation-timing-function"].includes(M)&&(te=i?["-webkit-animation-timing-function","animation-timing-function"]:"animation-timing-function"),E.add(new P(te,ee)),$.add(new P(te,ee))}o.push(E),i&&a.push($)}return I(I([],o,!0),a,!0)},t})(ae);(function(e){oe(t,e);function t(r,s,n){return e.call(this,r,s,n)||this}return t})(ae);var ht={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ze={exports:{}},pt=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},bt=pt,mt=Array.prototype.concat,gt=Array.prototype.slice,xe=ze.exports=function(t){for(var r=[],s=0,n=t.length;s<n;s++){var i=t[s];bt(i)?r=mt.call(r,gt.call(i)):r.push(i)}return r};xe.wrap=function(e){return function(){return e(xe(arguments))}};var J=ht,Z=ze.exports,Fe=Object.hasOwnProperty,Ke={};for(var fe in J)Fe.call(J,fe)&&(Ke[J[fe]]=fe);var x={to:{},get:{}};x.get=function(e){var t=e.substring(0,3).toLowerCase(),r,s;switch(t){case"hsl":r=x.get.hsl(e),s="hsl";break;case"hwb":r=x.get.hwb(e),s="hwb";break;default:r=x.get.rgb(e),s="rgb";break}return r?{model:s,value:r}:null};x.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,s=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^(\w+)$/,o=[0,0,0,1],a,u,p;if(a=e.match(r)){for(p=a[2],a=a[1],u=0;u<3;u++){var w=u*2;o[u]=parseInt(a.slice(w,w+2),16)}p&&(o[3]=parseInt(p,16)/255)}else if(a=e.match(t)){for(a=a[1],p=a[3],u=0;u<3;u++)o[u]=parseInt(a[u]+a[u],16);p&&(o[3]=parseInt(p+p,16)/255)}else if(a=e.match(s)){for(u=0;u<3;u++)o[u]=parseInt(a[u+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=e.match(n)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=e.match(i))?a[1]==="transparent"?[0,0,0,0]:Fe.call(J,a[1])?(o=J[a[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=H(o[u],0,255);return o[3]=H(o[3],0,1),o};x.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var s=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,i=H(parseFloat(r[2]),0,100),o=H(parseFloat(r[3]),0,100),a=H(isNaN(s)?1:s,0,1);return[n,i,o,a]}return null};x.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var s=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,i=H(parseFloat(r[2]),0,100),o=H(parseFloat(r[3]),0,100),a=H(isNaN(s)?1:s,0,1);return[n,i,o,a]}return null};x.to.hex=function(){var e=Z(arguments);return"#"+re(e[0])+re(e[1])+re(e[2])+(e[3]<1?re(Math.round(e[3]*255)):"")};x.to.rgb=function(){var e=Z(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};x.to.rgb.percent=function(){var e=Z(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),s=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+s+"%)":"rgba("+t+"%, "+r+"%, "+s+"%, "+e[3]+")"};x.to.hsl=function(){var e=Z(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};x.to.hwb=function(){var e=Z(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};x.to.keyword=function(e){return Ke[e.slice(0,3)]};function H(e,t,r){return Math.min(Math.max(t,e),r)}function re(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}const d=new g,D=document.querySelector("#timer"),se=1e3*30,z=1e3*60;var S={left:{scoreboard:document.getElementById("left-scoreboard"),scoreboard_color:document.getElementById("left-scoreboard-color"),name:document.getElementById("left-name"),role:document.getElementById("left-role"),eventboard:document.getElementById("left-eventboard"),eventboard_records:document.getElementById("left-eventboard-records")},right:{scoreboard:document.getElementById("right-scoreboard"),scoreboard_color:document.getElementById("right-scoreboard-color"),name:document.getElementById("right-name"),role:document.getElementById("right-role"),eventboard:document.getElementById("right-eventboard"),eventboard_records:document.getElementById("right-eventboard-records")}},m={left:"blue",blue:"left",right:"red",red:"right"},L={red:S[m.red],blue:S[m.blue]};const f={r1:{hitter:"red",red:"hitter",seeker:"blue",blue:"seeker"},r2:{hitter:"blue",blue:"hitter",seeker:"red",red:"seeker"}},b={start:"start",r1_setting:"r1-setting",r1_break:"r1-break",r1_build:"r1-build",r2_setting:"r2-setting",r2_break:"r2-break",r2_build:"r2-build",end:"end"};var ne=[0,0],me=!0,h=b.start;function k(e,t){t?He[e].classList.replace("board-inactive","board-active"):He[e].classList.replace("board-active","board-inactive")}function A(e){return e.toLowerCase().replace(/^(.)|\s(.)/g,function(t){return t.toUpperCase()})}var G={red:"",blue:""};function Ee(e,t){var r=document.createElement("div");e.parentNode.insertBefore(r,e),t.parentNode.insertBefore(e,t),r.parentNode.insertBefore(t,r),r.parentNode.removeChild(r)}var qe=document.getElementById(`round-1-${m.blue}`),Ue=document.getElementById(`round-1-${m.red}`),Ve=document.getElementById(`round-2-${m.blue}`),We=document.getElementById(`round-2-${m.red}`);qe.innerHTML=Ne("blue");Ue.innerHTML=De("red");Ve.innerHTML=De("blue");We.innerHTML=Ne("red");function Je(){document.getElementById("swap_colors").checked?m={left:"blue",blue:"left",right:"red",red:"right"}:m={left:"red",red:"left",right:"blue",blue:"right"},S.left.scoreboard_color.classList.add(`${m.left}-scoreboard-css`),S.left.scoreboard_color.classList.remove(`${m.right}-scoreboard-css`),S.right.scoreboard_color.classList.add(`${m.right}-scoreboard-css`),S.right.scoreboard_color.classList.remove(`${m.left}-scoreboard-css`),S.left.eventboard.classList.add(`${m.left}-eventboard-css`),S.left.eventboard.classList.remove(`${m.right}-eventboard-css`),S.right.eventboard.classList.add(`${m.right}-eventboard-css`),S.right.eventboard.classList.remove(`${m.left}-eventboard-css`),S.left.name.innerHTML=A(m.left),S.right.name.innerHTML=A(m.right),L={red:S[m.red],blue:S[m.blue]},L.blue.eventboard_records.innerHTML=G.blue,L.red.eventboard_records.innerHTML=G.red,Ee(qe,Ue),Ee(Ve,We),h==b.start||h==b.r1_setting||h==b.r1_build||h==b.r1_break?(L.blue.role.innerHTML=A(f.r1.blue),L.red.role.innerHTML=A(f.r1.red)):(L.blue.role.innerHTML=A(f.r2.blue),L.red.role.innerHTML=A(f.r2.red))}document.getElementById("swap_colors").addEventListener("click",()=>{Je()});Je();const c={red:{counters:new we,records:[]},blue:{counters:new we,records:[]}};function Ge(){["red","blue"].forEach(e=>{var t=c[e].counters.seekerScore();L[e].scoreboard.innerText=t})}function _(e,t){var r="",s="";if(h===b.start)return;if(h===b.end)r="2BU",s="0:00";else{var[n,i]=h.split("-");r=n.slice(-1)+i.slice(0,2).toUpperCase(),s=d.get_ms_string().slice(1,5)}var o=c[e].counters.seekerScore();const a=new ot(r,s,t,o);G[e]=a.toHTML()+G[e],L[e].eventboard_records.innerHTML=G[e],c[e].records.push(a),Ge()}var l={red:{seeker:c.red.counters.seeker_counters,hitter:c.red.counters.hitter_counters},blue:{seeker:c.blue.counters.seeker_counters,hitter:c.blue.counters.hitter_counters}};function U(e){return document.querySelectorAll(e.map(t=>`[id*=${t}]`).join(","))}function N(e){return e.map(t=>document.getElementById(t))}function y(e,t){return[].concat.apply([],e.map(r=>t.map(s=>r+"-"+s)))}function vt(e,t){var r=[];return e.forEach(s=>r[s]=t),r}function V(e,t){e.length!=t.length&&console.log("error in initObj",e,t);for(var r=[],s=0;s<e.length;s++)r[e[s]]=t[s];return r}const _t=y(["collected","passed","thrown"],["plus","minus"]),$e=y(["red","blue"],y(["collected","passed","thrown"],["counter"])),kt=U(_t),Te=V($e,N($e));kt.forEach(e=>e.addEventListener("click",function(){var[t,r,s]=this.id.split("-");if(r=="collected"){var n;s=="plus"?n=3:n=-3,(n==3&&l[t].hitter["balls_"+r]<6||n==-3&&l[t].hitter["balls_"+r]>0&&h!=b.start)&&(l[t].hitter["balls_"+r]+=n,Te[`${t}-${r}-counter`].innerText=l[t].hitter["balls_"+r],s=="plus"&&(l[t].hitter["balls_"+r]==3&&(l[t].hitter.balls_collected_time[0]=g.ms2mssecStr(d._getTimeElasped())),l[t].hitter["balls_"+r]==6&&(l[t].hitter.balls_collected_time[1]=g.ms2mssecStr(d._getTimeElasped()))),_(t,`Balls ${r} ${s} three, total ${l[t].hitter["balls_"+r]}.`))}else{var n;s=="plus"?n=1:n=-1,(n==1&&l[t].hitter["balls_"+r]<6||n==-1&&l[t].hitter["balls_"+r]>0&&h!=b.start)&&(l[t].hitter["balls_"+r]+=n,Te[`${t}-${r}-counter`].innerText=l[t].hitter["balls_"+r],_(t,`Balls ${r} ${s} one, total ${l[t].hitter["balls_"+r]}.`))}}));function Qe(e){return e.charCodeAt(0)-"A".charCodeAt(0)}const yt=y(["A","B","C","D","E"],["break-btn","pick-btn","place-btn"]),ye=U(yt);ye.forEach(e=>j(e));function j(e){e.classList.remove("disabled"),e.classList.remove("ok"),e.classList.add("fail"),e.classList.remove("left"),e.innerHTML="FAIL"}function q(e){e.classList.remove("disabled"),e.classList.remove("fail"),e.classList.add("ok"),e.classList.remove("left"),e.innerHTML="OK"}function Re(e){e.classList.add("disabled"),e.classList.remove("fail"),e.classList.remove("ok"),e.classList.remove("left"),e.innerHTML="-"}function Ye(e){e.classList.remove("disabled"),e.classList.remove("fail"),e.classList.remove("ok"),e.classList.add("left"),e.innerHTML="OUT"}function Ze(){ye.forEach(e=>{var[t,r,s,n]=e.id.split("-"),i=Qe(r);switch(s){case"break":l[t].seeker.lagori_broken[i]!=0?q(e):j(e);break;case"pick":l[t].seeker.lagori_broken[i]==0?(l[t].seeker.lagori_picked[i]=!1,Re(e)):l[t].seeker.lagori_picked[i]==!0?q(e):l[t].seeker.lagori_picked[i]==!1?j(e):l[t].seeker.lagori_picked[i]=="out"&&Ye(e);break;case"place":l[t].seeker.lagori_broken[i]==!1||l[t].seeker.lagori_picked[i]==!1||l[t].seeker.lagori_picked[i]=="out"?(l[t].seeker.lagori_placed[i]=!1,Re(e)):l[t].seeker.lagori_placed[i]?q(e):j(e);break}}),Ge()}function Oe(e,t){var[r,s,n,i]=e.id.split("-"),o=Qe(s);if(h!=b.start){switch(n){case"break":l[r].seeker.lagori_broken[o]==0&&l[r].seeker.balls_used>0?(l[r].seeker.lagori_broken[o]=l[r].seeker.balls_used,_(r,`Broke Lagori ${s} with ball ${l[r].seeker.balls_used}.`)):l[r].seeker.lagori_broken[o]!=0?(l[r].seeker.lagori_broken[o]=0,_(r,`<p style="color:gray;">Reset break state of Lagori ${s}.</p>`)):l[r].seeker.lagori_broken[o]=0,l[r].seeker.lagori_broken[o]!=0?q(e):j(e);break;case"pick":if(l[r].seeker.lagori_broken[o]==0)return;if(t==1){if(l[r].seeker.lagori_picked[o]=="out")return;l[r].seeker.lagori_picked[o]=!l[r].seeker.lagori_picked[o],l[r].seeker.lagori_picked[o]?(q(e),_(r,`Picked up Lagori ${s}.`)):(j(e),_(r,`<p style="color:gray;">Reset pick state of Lagori ${s}.</p>`))}else t==3&&(l[r].seeker.lagori_picked[o]!="out"?l[r].seeker.lagori_picked[o]="out":l[r].seeker.lagori_picked[o]=!1,l[r].seeker.lagori_picked[o]=="out"?(Ye(e),_(r,`Lagori ${s} was pushed out of the arena.`)):l[r].seeker.lagori_picked[o]==!1&&(j(e),_(r,`<p style="color:gray;">Reset pick state of Lagori ${s}.</p>`)));break;case"place":if(!l[r].seeker.lagori_picked[o])return;l[r].seeker.lagori_placed[o]=!l[r].seeker.lagori_placed[o],l[r].seeker.lagori_placed[o]?(q(e),_(r,`Placed Lagori ${s}.`)):(j(e),_(r,`<p style="color:gray;">Reset place state of Lagori ${s}.</p>`));break}Ze()}}Ze();var ie=!1,F=[];ye.forEach(e=>{e.addEventListener("mousedown",function(t){ie=!0,Oe(this,t.which),F.push(this.id),console.log(ie)}),e.addEventListener("mouseover",function(t){!ie||(!F.includes(this.id)&&this.id[0]==F[0][0]&&(Oe(this,t.which),F.push(this.id)),console.log(this.id,F))})});document.addEventListener("mouseup",function(){ie=!1,F=[]});const wt=["ball-1-btn","ball-2-btn","ball-3-btn"],St=U(wt);function Lt(e){e.classList.remove("ball-inactive"),e.classList.remove("ball-unclicked"),e.classList.add("ball-clicked")}function he(e){e.classList.remove("ball-inactive"),e.classList.add("ball-unclicked"),e.classList.remove("ball-clicked")}function Ae(e){e.classList.add("ball-inactive"),e.classList.remove("ball-unclicked"),e.classList.remove("ball-clicked")}St.forEach(e=>{var[t,s,r,s]=e.id.split("-");r=parseInt(r),r==1?he(e):Ae(e),e.addEventListener("click",function(){if(h!==b.start){var[n,o,i,o]=this.id.split("-");i=parseInt(i),console.log(n,i,l[n].seeker.balls_used),i==l[n].seeker.balls_used+1&&this.classList.contains("ball-unclicked")?(l[n].seeker.balls_used=i,Lt(this),U([`${n}-ball-${i+1}-btn`]).forEach(a=>he(a)),_(n,`Threw ball ${i}.`)):i==l[n].seeker.balls_used&&this.classList.contains("ball-clicked")&&(l[n].seeker.balls_used=i-1,he(this),U([`${n}-ball-${i+1}-btn`]).forEach(a=>Ae(a)),_(n,`<p style="color:gray;">Reset state of ball ${i}.</p>`))}})});var Xe=document.getElementById("round-1-button");Xe.classList.add("active");et(Xe);var Be=document.getElementsByClassName("collapsible");function et(e){var t=e.nextElementSibling;e.classList.contains("active")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight="0px"}for(var pe=0;pe<Be.length;pe++)Be[pe].addEventListener("click",function(){this.classList.toggle("active"),et(this)});const C=y(y(["red","blue"],["seeker","hitter"]),["restart"]),ge=y(y(["red","blue"],["seeker","hitter"]),["violation"]),tt=N(y(C,["btn"])),rt=V(C,tt),xt=N(y(ge,["btn"])),Me=V(C,N(y(C,["count"]))),Et=V(ge,N(y(ge,["count"]))),R=vt(C,void 0);xt.forEach(e=>e.addEventListener("mousedown",function(t){if(h!=b.start){var[r,s,...n]=this.id.split("-"),i=r+"-"+s+"-violation";t.which==1?(l[r][s].violations+=1,_(r,`Violation. (total ${l[r][s].violations})`)):t.which==3&&l[r][s].violations>0&&(l[r][s].violations-=1,_(r,`<p style="color:gray;">Removed violation. (total ${l[r][s].violations})</p>`)),Et[i].innerHTML=l[r][s].violations}}));function ve(e,t=!0){rt[e].innerHTML="RESTART";var r=R[e].timer.get_ms_s_string();if(clearInterval(R[e].id),console.log(r),R[e]=void 0,t){var[s,n,...i]=e.split("-");_(s,`Restart complete. Time taken: ${r}`),l[s][n].restart_times.push(r)}}function $t(e){console.log(e),rt[e].innerHTML=R[e].timer.get_ms_s_string()}function Pe(){C.forEach(e=>{R[e]!=null&&ve(e)})}function Tt(){C.forEach(e=>{R[e]!=null&&R[e].timer.stop()})}function Rt(){C.forEach(e=>{R[e]!=null&&R[e].timer.start()})}tt.forEach(e=>e.addEventListener("mousedown",function(t){if(h!=b.start){var[r,s,...n]=this.id.split("-"),i=r+"-"+s+"-restart";if(t.which==3){l[r][s].restarts>0&&(l[r][s].restarts-=1,_(r,`<p style="color:gray;">Removed restart. (total ${l[r][s].violations})</p>`),Me[i].innerText=l[r][s].restarts),ve(i);return}if(R[i]==null){var o=new g;o.start();var a=setInterval(()=>{$t(i)},8);R[i]={timer:o,id:a},l[r][s].restarts+=1,_(r,`Restart. (total ${l[r][s].restarts})`),Me[i].innerText=l[r][s].restarts}else ve(i)}}));const Ot=U(["hitter-complete-btn"]),Ie=V(["red","blue"],N(y(["red","blue"],["seeker-complete-btn"])));Ot.forEach(e=>e.addEventListener("click",function(){var[t,...r]=this.id.split("-");this.classList.replace("end-button","end-button-lit"),l[t].hitter.hit=!0}));const Y=document.getElementById("timer-start"),le=document.querySelector("#timer-stop"),ce=document.querySelector("#timer-reset");Y.addEventListener("click",function(){Y.classList.replace("timer-active","timer-inactive"),le.classList.replace("timer-inactive","timer-active"),ce.classList.replace("timer-active","timer-inactive"),h===b.start?setInterval(Bt,8):me&&(me=!1,d.start(),Rt())});function _e(){Y.innerText="RESUME",Y.classList.replace("timer-inactive","timer-active"),le.classList.replace("timer-active","timer-inactive"),ce.classList.replace("timer-inactive","timer-active"),me=!0,d.stop(),Tt()}le.addEventListener("click",function(){_e()});ce.addEventListener("click",function(){document.location.reload(!0)});const je=y(["r1","r2"],["header","setting","break","build"]),He=V(je,N(je)),st=y(y(["r1","r2"],["setting","break","build"]),["btn"]);console.log(st);const At=N(st);At.forEach(e=>e.addEventListener("click",function(){var[t,r,s]=this.id.split("-"),n=t+"-"+r;console.log(n,h),n==h&&d.get_time_left()>5*1e3?(d.reinit(5*1e3),d.start()):n==h&&(d.reinit(2),d.start())}));var ke=!1;document.getElementById("break_pause").addEventListener("click",()=>{ke=document.getElementById("break_pause").checked});function Bt(){if(h===b.end?(D.innerHTML="GAME OVER",D.classList.add("text-size-[70px]"),Y.classList.replace("timer-active","timer-inactive"),le.classList.replace("timer-active","timer-inactive"),ce.classList.replace("timer-inactive","timer-active")):D.innerHTML=d.get_ms_string(),h===b.start)L.blue.role.innerHTML=A(f.r1.blue),L.red.role.innerHTML=A(f.r1.red),d.reinit(z),d.start(),h=b.r1_setting,k("r1-header",!0),k("r1-setting",!0);else if(h===b.r1_setting)d.time_up()&&(d.reinit(se),d.start(),h=b.r1_break,k("r1-break",!0),k("r1-setting",!1));else if(h===b.r1_break){if(d.time_up()||l[f.r1.seeker].seeker.balls_used==3||l[f.r1.seeker].seeker.lagori_broken.filter(t=>t>0).length==5){var e=d.get_time_left();l[f.r1.seeker].seeker.break_time=g.ms2mssecStr(se-e),ne[0]=z+e,d.reinit(z+e),d.start(),ke&&_e(),h=b.r1_build,k("r1-break",!1),k("r1-build",!0)}}else if(h===b.r1_build){if(d.get_time_left()<10*1e3&&D.classList.add("flash"),d.time_up()||l[f.r1.seeker].seeker.lagori_placed.filter(t=>t>0).length==5||l[f.r1.hitter].hitter.hit){L.blue.role.innerHTML=A(f.r2.blue),L.red.role.innerHTML=A(f.r2.red),l[f.r1.seeker].seeker.lagori_placed.filter(r=>r>0).length==5&&(Ie[f.r1.seeker].classList.replace("end-button","end-button-lit"),l[f.r1.seeker].seeker.built=!0),D.classList.remove("flash");var e=d.get_time_left();l[f.r1.seeker].seeker.time_remaining=g.ms2mssecStr(e),l[f.r1.hitter].hitter.time_remaining=g.ms2mssecStr(e),l[f.r1.hitter].hitter.hit?l[f.r1.seeker].seeker.place_time="N/A":l[f.r1.seeker].seeker.place_time=g.ms2mssecStr(ne[0]-e),Pe(),d.reinit(z),d.start(),h=b.r2_setting,k("r1-header",!1),k("r1-build",!1),k("r2-header",!0),k("r2-setting",!0)}}else if(h===b.r2_setting)d.time_up()&&(d.reinit(se),d.start(),h=b.r2_break,k("r2-break",!0),k("r2-setting",!1));else if(h===b.r2_break){if(d.time_up()||l[f.r2.seeker].seeker.balls_used==3||l[f.r2.seeker].seeker.lagori_broken.filter(t=>t>0).length==5){var e=d.get_time_left();l[f.r2.seeker].seeker.break_time=g.ms2mssecStr(se-e),ne[1]=z+e,d.reinit(z+e),d.start(),ke&&_e(),h=b.r2_build,k("r2-break",!1),k("r2-build",!0)}}else if(h===b.r2_build&&(d.get_time_left()<10*1e3&&D.classList.add("flash"),d.time_up()||l[f.r2.seeker].seeker.lagori_placed.filter(t=>t>0).length==5||l[f.r2.hitter].hitter.hit)){l[f.r2.seeker].seeker.lagori_placed.filter(r=>r>0).length==5&&(Ie[f.r2.seeker].classList.replace("end-button","end-button-lit"),l[f.r2.seeker].seeker.built=!0);var e=d.get_time_left();l[f.r2.seeker].seeker.time_remaining=g.ms2secStr(e),l[f.r2.hitter].hitter.time_remaining=g.ms2secStr(e),l[f.r2.hitter].hitter.hit?l[f.r2.seeker].seeker.place_time="N/A":l[f.r2.seeker].seeker.place_time=g.ms2secStr(ne[0]-e),Pe(),h=b.end,k("r2-header",!1),k("r2-build",!1)}}function K(){const e=c.blue.counters.seekerScore(),t=c.red.counters.seekerScore(),r=c.blue.counters.hitter_counters.hit,s=c.red.counters.hitter_counters.hit;var n=parseInt(c.blue.counters.seeker_counters.time_left);n==NaN&&(n=1/0);var i=parseInt(c.red.counters.seeker_counters.time_left);i==NaN&&(i=1/0);const o=c.blue.counters.seeker_counters.lagori_placed.filter(u=>u>0).length,a=c.blue.counters.seeker_counters.lagori_placed.filter(u=>u>0).length;return e>t?"blue":t>e?"red":r&&!s?"blue":s&&!r?"red":n>i?"blue":i>n?"red":o>a?"blue":a>o?"red":"tie"}function nt(){const e={createdAt:lt(new Date),data:{red:{score:c.red.counters.seekerScore(),seeker:c.red.counters.seekerCompiled(),hitter:c.red.counters.hitterCompiled(),records:c.red.records.map(t=>t.toString()),win:(()=>K()=="blue"?"yes":K()=="tie"?"tie":"no")()},blue:{score:c.blue.counters.seekerScore(),seeker:c.blue.counters.seekerCompiled(),hitter:c.blue.counters.hitterCompiled(),records:c.blue.records.map(t=>t.toString()),win:(()=>K()=="red"?"yes":K()=="tie"?"tie":"no")()}}};return JSON.stringify(e,null,4)}function Ce(e){const t=["Balls Thrown","Lagoris Broken","Breakshot Time","Lagoris Picked","Lagoris Out","Lagoris Placed","Building Time","Score","Seeker Time Remaining","Built","Seeker Restarts","Seeker Restart Time","Seeker Violations","","Balls Collected","Balls Passed","Balls Shot","First Rack Time","Second Rack Time","Hitter Time Remaining","Hit","Hitter Restarts","Hitter Restart Time","Hitter Violations","","Win","","Lagoris Broken (List)","Lagoris Placed (List)","Seeker Restart Times","Hitter Restart Times"],r={"Balls Thrown":c[e].counters.seeker_counters.balls_used,"Lagoris Broken":c[e].counters.seeker_counters.lagori_broken.filter(s=>s!=0).length,"Breakshot Time":c[e].counters.seeker_counters.break_time,"Lagoris Picked":c[e].counters.seeker_counters.lagori_picked.filter(s=>s==!0).length,"Lagoris Out":c[e].counters.seeker_counters.lagori_picked.filter(s=>s=="out").length,"Lagoris Placed":c[e].counters.seeker_counters.lagori_placed.filter(s=>s==!0).length,"Building Time":c[e].counters.seeker_counters.place_time,"Seeker Time Remaining":c[e].counters.seeker_counters.time_remaining,Built:(()=>c[e].counters.seeker_counters.built?"yes":"no")(),"Seeker Restarts":c[e].counters.seeker_counters.restarts,"Seeker Restart Time":(()=>{if(c[e].counters.seeker_counters.restarts>0)c[e].counters.seeker_counters.restart_times.reduce((s,n)=>s+=parseFloat(n))/c[e].counters.seeker_counters.restarts;else return NaN})(),"Seeker Violations":c[e].counters.seeker_counters.violations,"":"","Balls Collected":c[e].counters.hitter_counters.balls_collected,"Balls Passed":c[e].counters.hitter_counters.balls_passed,"Balls Shot":c[e].counters.hitter_counters.balls_thrown,"First Rack Time":c[e].counters.hitter_counters.balls_collected_time[0],"Second Rack Time":c[e].counters.hitter_counters.balls_collected_time[1],"Hitter Time Remaining":c[e].counters.hitter_counters.time_remaining,Hit:c[e].counters.hitter_counters.hit,"Hitter Restarts":c[e].counters.hitter_counters.restarts,"Hitter Restart Time":(()=>c[e].counters.hitter_counters.restarts>0?c[e].counters.hitter_counters.restart_times.reduce((s,n)=>s+parseFloat(n),0)/c[e].counters.hitter_counters.restarts:NaN)(),"Hitter Violations":c[e].counters.hitter_counters.violations,Win:(()=>K()==e?"yes":K()=="tie"?"tie":"no")(),Score:c[e].counters.seekerScore(),"Lagoris Broken (List)":c[e].counters.seeker_counters.lagori_broken,"Lagoris Placed (List)":c[e].counters.seeker_counters.lagori_placed,"Seeker Restart Times":c[e].counters.seeker_counters.restart_times,"Hitter Restart Times":c[e].counters.hitter_counters.restart_times};return"<table><tr>"+t.map(s=>`<td>${s}</td>`).join("")+"</tr><tr>"+t.map(s=>`<td>${r[s]}</td>`).join("")+"</tr></table>"}function Mt(){at(nt(),"result.json")}document.getElementById("btn_save").addEventListener("click",()=>{Mt()});document.getElementById("btn_convert").addEventListener("click",()=>{document.getElementById("result_output").innerHTML=`
  <p style="font-weight:700;font-size:22px;">Raw JSON</p>
  <div style="font-size:14px;padding:5px 5px;background-color:rgba(50,50,50,.1);">${nt()}</div>
  <p style="font-weight:700;font-size:22px;">Red Team Excel</p>
  <div style="font-size:14px;padding:5px 5px;background-color:rgba(200,0,0,.1);">${Ce("red")}</div>
  <div style="font-size:14px;padding:5px 5px;background-color:rgba(200,0,0,.1);white-space: pre-line">${c.red.records.map(e=>e.toString()).join(`
`)}</div>
  <p style="font-weight:700;font-size:22px;">Blue Team Excel</p>
  <div style="font-size:14px;padding:5px 5px;background-color:rgba(0,0,200,.1);">${Ce("blue")}</div>
  <div style="font-size:14px;padding:5px 5px;background-color:rgba(0,0,200,.1);white-space: pre-line;">${c.blue.records.map(e=>e.toString()).join(`
`)}</div>

  `});
